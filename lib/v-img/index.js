!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["@bilibili/sakura"]=t():e["@bilibili/sakura"]=t()}(this,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=40)}({0:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"f",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return u})),n.d(t,"g",(function(){return c})),n.d(t,"c",(function(){return s}));var r="undefined"==typeof window,i=function(){var e,t,n,r=((null===(e=window)||void 0===e||null===(t=e.navigator)||void 0===t||null===(n=t.connection)||void 0===n?void 0:n.effectiveType)||"").match(/\d+/);return r?Math.max(window.devicePixelRatio-(4-r[0])|0,1):0|window.devicePixelRatio},o=r?null:window.requestIdleCallback||function(e){var t=Date.now();return setTimeout((function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})}),1)},a=r?null:window.cancelIdleCallback||function(e){clearTimeout(e)},u=function(e){return!!e&&e.startsWith("http")},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.width,i=t.height,o=t.rule,a=t.webP,u=t.dpr;if(!e)return"";var c=d(e);if(!n&&!i)return c;var s=a?".webp":"",l=o?"_".concat(o):"",f=u||(r?2:0|(window.__img_dpr__||window.devicePixelRatio));return"".concat(c,"@").concat(n*f|0,"w_").concat(0|(i?i*f:n*f),"h").concat(l).concat(s)},s=function(e,t){for(var n=[],r=0;r<e;r++)n.push(t);return n},d=function(e){return e?e.replace(/^http:/,""):""}},1:function(e,t,n){"use strict";function r(e,t,n,r,i,o,a,u){var c,s="function"==typeof e?e.options:e;if(t&&(s.render=t,s.staticRenderFns=n,s._compiled=!0),r&&(s.functional=!0),o&&(s._scopeId="data-v-"+o),a?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},s._ssrRegister=c):i&&(c=u?function(){i.call(this,(s.functional?this.parent:this).$root.$options.shadowRoot)}:i),c)if(s.functional){s._injectStyles=c;var d=s.render;s.render=function(e,t){return c.call(t),d(e,t)}}else{var l=s.beforeCreate;s.beforeCreate=l?[].concat(l,c):[c]}return{exports:e,options:s}}n.d(t,"a",(function(){return r}))},40:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("picture",{directives:[{name:"lazyload",rawName:"v-lazyload:[disabled]",value:e.handleLazy,expression:"handleLazy",arg:e.disabled}],staticClass:"v-img"},[e.srcset?n("source",{attrs:{srcset:e.srcset,type:"image/webp"}}):e._e(),e._v(" "),n("img",{attrs:{src:e.imgSrc,alt:e.alt,loading:"lazy"},on:{load:e.handleLoaded,error:e.handleError}})])};r._withStripped=!0;var i=n(0);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}if(!i.e){var c=function e(){Object(i.f)((function(){window.__img_dpr__=Object(i.a)(),setTimeout((function(){e()}),5e3)}),{timeout:2e3})};window.addEventListener("load",(function(){c()}))}var s={name:"VImg",props:{src:{type:String,required:!0},alt:{type:String,default:""},width:{type:[String,Number],default:""},height:{type:[String,Number],default:""},rule:{type:[String,Number],default:""},source:{type:Object,default:function(){}},lazy:{type:Boolean,default:!0}},data:function(){return{loaded:!this.lazy,disabled:!this.lazy}},computed:{dpr:function(){return this.lazy?0:2},filter:function(){return this.$resizeImage||i.g},srcset:function(){if(!Object(i.d)(this.src)||this.$isServer&&this.lazy)return"";var e=this.filter(this.src,a(a({},this._props),{},{dpr:this.dpr,webP:!0}));return this.$isServer||this.loaded?e:""},imgSrc:function(){if(!Object(i.d)(this.src))return this.src;var e=this.filter(this.src,a(a({},this._props),{},{dpr:this.dpr,webP:!1}));return this.$isServer?this.lazy?"":e:this.loaded?e:""}},created:function(){this.supportNativeLazy()},methods:{supportNativeLazy:function(){!i.e&&"loading"in HTMLImageElement.prototype&&(this.disabled=!0,this.loaded=!0)},handleLazy:function(){this.loaded=!0},handleLoaded:function(e){this.$emit("load",e)},handleError:function(e){this.$emit("error",e)}}},d=n(1),l=Object(d.a)(s,r,[],!1,null,null,null);l.options.__file="src/components/img/img.vue";var f=l.exports;t.default=f}})}));