!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["@bilibili/sakura"]=e():t["@bilibili/sakura"]=e()}(this,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=41)}({1:function(t,e,n){"use strict";function r(t,e,n,r,i,o,a,c){var s,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),r&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),a?(s=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},l._ssrRegister=s):i&&(s=c?function(){i.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:i),s)if(l.functional){l._injectStyles=s;var u=l.render;l.render=function(t,e){return s.call(e),u(t,e)}}else{var f=l.beforeCreate;l.beforeCreate=f?[].concat(f,s):[s]}return{exports:t,options:l}}n.d(e,"a",(function(){return r}))},12:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"==typeof window&&(n=window)}t.exports=n},4:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return r})),n.d(e,"h",(function(){return i})),n.d(e,"d",(function(){return c})),n.d(e,"f",(function(){return s})),n.d(e,"e",(function(){return l})),n.d(e,"g",(function(){return u})),n.d(e,"b",(function(){return f})),n.d(e,"c",(function(){return b}));var r=function(t,e){if(t){for(var n=t.className,r=(e||"").split(" "),i=0,o=r.length;i<o;i++){var c=r[i];c&&(t.classList?t.classList.add(c):a(t,c)||(n+=" "+c))}t.classList||(t.className=n)}},i=function(t,e){if(t&&e){for(var n=e.split(" "),r=" "+t.className+" ",i=0,c=n.length;i<c;i++){var s=n[i];s&&(t.classList?t.classList.remove(s):a(t,s)&&(r=r.replace(" "+s+" "," ")))}t.classList||(t.className=o(r))}},o=function(t){return(t||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")},a=function(t,e){if(!t||!e)return!1;if(e.includes(" "))throw new Error("className should not contain space.");return t.classList?t.classList.contains(e):(" "+t.className+" ").includes(" "+e+" ")},c=function t(e,n){var r=-1;if(!n)return r;var i=n.endsWith("/")?n:"".concat(n,"/");if(e.map((function(t){return t.route})).forEach((function(t,e){if(t){var n=t.endsWith("/")?t:"".concat(t,"/");i===n&&(r=e)}})),-1!==r)return r;var o=i.split("/").filter((function(t){return t}));return o.length?(o.pop(),t(e,"/".concat(o.join("/"),"/"))):-1},s=function(t,e){var n=e?"scrollTop":"scrollLeft",r=t[e?"pageYOffset":"pageXOffset"];return"number"!=typeof r&&(r=window.document.documentElement[n]),r},l=function(t){var e=t.getBoundingClientRect(),n=s(window,!0),r=s(window),i=window.document.body,o=i.clientTop||0,a=i.clientLeft||0;return{top:e.top+n-o,left:e.left+r-a}},u=function(t){var e=t;if(!e)return null;for(;e&&"HTML"!==e.tagName&&"BOYD"!==e.tagName&&1===e.nodeType;){var n=window.getComputedStyle(e).overflowY;if("scroll"===n||"auto"===n)return"HTML"===e.tagName||"BODY"===e.tagName?document:e;e=e.parentNode}return document},f=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!t)return!1;var n=t.getBoundingClientRect();return n.top<window.innerHeight+e&&n.bottom+e>0&&n.left<window.innerWidth+e&&n.right+e>0},d=Date.now();var h=t,p=h.requestAnimationFrame||function(t){var e=Date.now(),n=Math.max(0,16-(e-d)),r=setTimeout(t,n);return d=e+n,r};h.cancelAnimationFrame||h.clearTimeout;function v(t){return p.call(h,t)}function b(t){v((function(){v(t)}))}}).call(this,n(12))},41:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.barClass,style:t.barStyle,attrs:{role:"alert"}},[t.leftIcon?n("i",{staticClass:"icon icon-edit"}):t._e(),t._v(" "),n("div",{ref:"wrap",class:t.prefix+"__wrap"},[n("div",{ref:"content",class:t.contentClass,style:t.contentStyle,attrs:{role:"marquee"},on:{transitionend:t.onContentTransitionEnd}},[t.hasSlot?[t._t("default")]:t.isMulti?[t.verticalScroll&&t.verticalScrollInterval?[n("p",{style:t.paragraphStyle,on:{transitionend:t.onParagraphTransitionEnd}},[t._v(t._s(t.text[t.active]))]),t._v(" "),n("p",{style:t.paragraphStyle},[t._v(t._s(t.text[t.after]))]),t._v(" "),n("p",{style:t.paragraphStyle},[t._v(t._s(t.text[t.prepare]))])]:[t._l(t.text,(function(e){return[t._v(t._s(e)+"        ")]}))]]:[t._v(t._s(t.text))]],2)]),t._v(" "),t.rightIcon?n("i",{staticClass:"icon icon-edit"}):t._e()])};r._withStripped=!0;var i=n(4);function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a={name:"VNoticebar",props:{text:{type:[String,Array],default:""},color:{type:String,default:""},background:{type:String,default:""},leftIcon:{type:String,default:""},rightIcon:{type:String,default:""},scrollable:{type:Boolean,default:!0},verticalScroll:{type:Boolean,default:!1},wrapable:{type:Boolean,default:!1},mode:{type:String,default:""},delay:{type:[Number,String],default:1},verticalScrollInterval:{type:[Number,String],default:0},speed:{type:[Number,String],default:50}},data:function(){return{visible:!0,prefix:"v-notice-bar",offset:0,duration:0,wrapWidth:0,contentWidth:0,count:0,active:0}},computed:{isMulti:function(){return Array.isArray(this.text)},isMultiVerticalScrollParagraph:function(){return this.isMulti&&this.verticalScroll&&!!this.verticalScrollInterval},after:function(){return this.text.length?(this.active+1)%this.text.length:0},prepare:function(){return this.text.length?(this.active+2)%this.text.length:0},barClass:function(){var t;return o(t={},this.prefix,!0),o(t,"".concat(this.prefix,"--wrapable"),!this.verticalScroll&&this.wrapable),o(t,"".concat(this.prefix,"--vertical"),this.verticalScroll&&this.wrapable),t},barStyle:function(){return this.color||this.background?{color:this.color,background:this.background}:null},hasSlot:function(){return!!this.$slots.default},contentClass:function(){var t;return o(t={},"".concat(this.prefix,"__content"),!0),o(t,"".concat(this.prefix,"__content--ellipsis"),!this.scrollable&&!this.wrapable),o(t,"".concat(this.prefix,"__content--vertical-interval"),this.scrollable&&this.verticalScroll&&!!this.verticalScrollInterval),t},contentStyle:function(){return this.isMultiVerticalScrollParagraph?"":{transform:this.offset?"translate".concat(this.verticalScroll?"Y":"X","(").concat(this.offset,"px)"):"",transitionDuration:this.duration+"s"}},paragraphStyle:function(){return{transform:this.offset?"translateY(".concat(this.offset,"px)"):"",transitionDuration:this.duration+"s"}}},watch:{scrollable:"start",text:{handler:"start",immediate:!0}},methods:{start:function(){var t=this,e=this.delay&&Number(this.delay)&&!isNaN(Number(this.delay))?1e3*Number(this.delay):0;this.reset(),setTimeout((function(){var e=t.$refs,n=e.wrap,r=e.content;if(n&&r&&!1!==t.scrollable){var o=n.getBoundingClientRect()[t.verticalScroll?"height":"width"],a=r.getBoundingClientRect()[t.verticalScroll?"height":"width"];(t.scrollable||a>o)&&Object(i.c)((function(){t.offset=-a,t.duration=a/t.speed,t.wrapWidth=o,t.contentWidth=a}))}}),e)},reset:function(){this.offset=0,this.duration=0,this.wrapWidth=0,this.contentWidth=0},onContentTransitionEnd:function(){var t=this;this.isMultiVerticalScrollParagraph||(this.offset=this.wrapWidth,this.duration=0,this.$nextTick((function(){setTimeout((function(){Object(i.c)((function(){t.offset=-t.contentWidth,t.duration=(t.contentWidth+t.wrapWidth)/t.speed,t.$emit("replay")}))}),0)})))},onParagraphTransitionEnd:function(){var t=this;++this.count,this.count%2==0&&(this.duration=0,this.offset=0,this.active=(this.active+2)%this.text.length,0===this.active&&(this.count=0)),setTimeout((function(){Object(i.c)((function(){t.offset=-t.contentWidth+t.offset,t.duration=t.wrapWidth/t.speed,(t.count+1)%t.text.length==0&&t.$emit("replay")}))}),this.verticalScrollInterval)}}},c=n(1),s=Object(c.a)(a,r,[],!1,null,null,null);s.options.__file="src/components/noticebar/noticebar.vue";var l=s.exports;e.default=l}})}));